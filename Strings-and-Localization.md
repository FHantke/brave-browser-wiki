Most strings are provided as resources, so that they may be translated to the many languages that Brave supports.

They can be split in to two categories: those that are provided and referenced only from Brave code, and those that are provided and referenced from within Chromium code.

## Brave-only strings
All brave-only strings are referenced from `brave/app/brave_generated_resources.grd`
Modifications and additions should be made directly to this file.
Translated versions of modified or added strings will only happen once per release cycle.

## Chromium strings
### Any chromium strings we do not want to modify
No action necessary.
Original and translated strings from chromium src .grd, .grdp and .xtb files are used in-place.

### Any chromium strings we want to modify for brave
For each chromium release, the chromium GRD and GRDP files that we wish to make modifications to are copied to a file inside the brave-core source. Some mappings include:

| Chromium path                      |          Brave path         |
|------------------------------------|---------------------------|
| chrome_app_chromium_strings.grd    | app/brave_strings.grd       |
| chrome_app_generated_resources.grd | app/generated_resources.grd |
| chrome_app_bookmarks_strings.grdp  | app/bookmarks_strings.grdp  |

- If the GRD or GRPD is not yet present by Brave-Core:
  - Add a path to `brave-browser/lib/l10nUtil.js`
  - Add an entry to `chromiumToAutoGeneratedBraveMapping` map
- Add any whole-file string replacement rules to the `rebaseBraveStringFilesOnChromiumL10nFiles` function
  - Add any specific xml transforms to `chromium-rebase-l10n.py`
- In Brave-Browser, run `npm run chromium_rebase_l10n`
  - This will output a new or modified .grd[p] file which should be committed.

The modified string will then get translated when the next release train visits the localization station!

## Modifying English strings invalidates all translations
Modifying English source strings in GRD files will invalidate all translations of that string, since the translations reference the original string hash. All users will then only see the English fallback string until the next translation process is performed during a release cycle.

## Language files
These are .xtb files containing xml elements of the form:
```
<translation id=“[number]”>[Translated Text]</translation>
```

The Translation ID refers to the unique fingerprint of the original string as it appears in the source GRD file.

## Transifex
Strings are matched using filename (not path). This is something we control in transifex.py. Within each file, each _unique_ string from a GRD is translated and pulled down. It is then stored in a corresponding .xtb file with the translation ID (unique fingerprint of the original string).
This means that **multiple strings that have the exact same English value in the source GRD file will only get translated once per language per GRD file**.

## GRD Tips
- Provide a descriptive `desc=“”` attribute on each `<message` attribute informing the translator of the context for the string.
  - Mention if it should be title case or not
  - Specify which Proper Nouns should not be translated.
- Use `translateable="false"` if the whole string should not be translated.
- Use `<if expr=“”>` to inform the compiler which string to select. This is useful for platform variations or platform-specific strings. For example:
  - Strings that should have a different case on different systems such as title-case for macOS menus and lower-case for menus on other platforms (`<if expr="use_titlecase">`)
  - Strings that only appear on a single platform, such as Android (`<if expr="is_android">`)